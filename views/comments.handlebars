<div class="container">
  <div class="card mb-4">
    <div class="card-body">
      <div class="media">
        <img class="mr-3" src={{article.img}} alt="Article Image">
        <div class="media-body">
          <h5 class="mt-0">{{article.title}}</h5>
          <p>{{article.summary}}</p>
          <a href={{link}} target="_blank" class="btn btn-block btn-info btn-sm text-center">See Article
            <i class="fas fa-arrow-right"></i>
          </a>
          <a href="/" class="btn btn-block btn-secondary btn-sm text-center">Back to Articles
            <i class="fas fa-arrow-left"></i>
          </a>
        </div>
      </div>
    </div>
  </div>

  <div class="row mb-3">
    <div class="col-12 col-md-4">
      <div class="card">
        <div class="card-header">
          <h5 class="card-title text-center pb-0 mb-0">
            New Comment
          </h5>
        </div>
        <div class="card-body">
          <div class="form-group">
            <label for="author">Name</label>
            <input type="text" class="form-control" id="author" placeholder="Your Name">
          </div>
          <div class="form-group">
            <label for="title">Title</label>
            <input type="text" class="form-control" id="title" placeholder="Comment Title">
          </div>
          <div class="form-group">
            <label for="body">Comment</label>
            <textarea class="form-control" id="body" rows="3"></textarea>
          </div>
          <div class="text-right">
            <button class="btn btn-primary" id="submit" data-articleId={{article._id}}>Add Comment
              <i class="fas fa-plus"></i>
            </button>
            <p id="validate" class="small text-danger"></p>
          </div>
        </div>
      </div>
    </div>

    <div class="col-12 col-md-8">
      <div class="card">
        <div class="card-header">
          <h5 class="card-title text-center pb-0 mb-0">
            All Comments
          </h5>
        </div>
        <div>
          <ul class="list-group list-group-flush">
            {{#each article.notes}}
            <li class="list-group-item">
              <div class="card">
                <div class="card-header">
                  <div class="row align-items-center">
                    <div class="col-1">
                      <i class="fas fa-comment"></i>
                    </div>
                    <div class="col card-title pb-0 mb-0">
                      {{title}}
                    </div>
                    <div class="col text-right">
                      <button class="btn btn-danger delete-btn" data-commentid={{_id}} data-articleid={{@root/article/_id}}>
                        <i class="fas fa-trash-alt"></i>
                      </button>
                    </div>
                  </div>
                </div>
                <div class="card-body">
                  <p>
                    {{body}}
                  </p>
                  <div class="text-right text-muted">--{{author}} at {{parseDate timeCreated}}</div>
                </div>
              </div>
            </li>
            {{/each}}
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

  <!-- Delete Comment Modal -->
  <div class="modal fade" id="deleteEntryModal" tabindex="-1" role="dialog" aria-labelledby="deleteEntryModalTitle"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="deleteEntryModalTitle">Delete This Comment?</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          Are you sure you want to delete "<span id="titleToDelete"></span>"?
        </div>
        <div class="modal-body">
          <div class="row justify-content-between">
            <div class="col">
              <button type="button" class="btn btn-danger" id="deleteEntry" data-id="-1">Yes, delete this entry</button>
            </div>
            <div class="col text-right">
              <button type="button" class="btn btn-primary" id="doNotDeleteEntry">No, keep this entry</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- End Delete Comment Modal -->

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.13.0/umd/popper.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.min.js"></script>
<script src="/assets/js/comments.js"></script>